<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Царёво Village</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="page">
    <div class="b-header">
        <a href="#" onclick="history.go(-1)"><span class="b-header_arrow hide_"><img src="images/arrow_line_left.png"/></span></a>
        <img class="b-header_leaf" src="images/leaf_white.png">
        <img class="b-header_logo" src="images/logo_white.png">
        <a href="01_3-меню.html"><span class="b-header_button on"></span></a>
    </div>

    <div class="b-title-duck2">
        <span class="b-title-duck2_span"></span>
        <span class="b-title-duck2_text">Планировки</span>
        <img class="b-title-duck2_img" src="images/duck.png">
    </div>

    <div class="b-filter">
        <span class="b-filter_buttons">
            <a href="02_2-genplan.html"><span class="b-filter_buttons_on">Генплан</span></a><span
                class="b-filter_buttons_off">Планировки</span>
        </span>
        <span class="b-filter_opener" onclick="document.location ='05_список-квартир.html?filter'">
            <img src="images/filter.png">
        </span>
    </div>


    <div class="b-document b-planirovki">
        <label>КОМНАТ</label>
        <div onclick="showRoom(1, event)" class="b-planirovki_button"><img src="images/checkOn.png"/>
            <span>1</span>
        </div>
        <div onclick="showRoom(2, event)" class="b-planirovki_button"><img src="images/checkOn.png"/>
            <span>2</span>
        </div>
        <div onclick="showRoom(3, event)" class="b-planirovki_button"><img src="images/checkOff.png"/>
            <span>3</span>
        </div>

    </div>


    <div id="plans" class="plans">
        <div class="b-img-center"><img src="images/flat/flat1.png"/>
            <span onclick="onFlat(123)">Квартира-студия, 20,7 м<sup>2</sup><br>от 750 000 руб.</span>
        </div>
        <div class="b-img-center"><img src="images/flat/flat2.png"/>
            <span onclick="onFlat(123)">1-комнатная квартира, 22,57 м<sup>2</sup><br>от 850 000 руб.</span>
        </div>
        <div class="b-img-center"><img src="images/flat/flat3.png"/>
            <span onclick="onFlat(123)">1-комнатная квартира, 22,57 м<sup>2</sup><br>от 850 000 руб.</span></div>
        <div class="b-img-center"><img src="images/flat/flat4.png"/>
            <span onclick="onFlat(123)">1-комнатная квартира, 26,57 м<sup>2</sup><br>от 950 000 руб.</span>
        </div>
    </div>


    <img class="b-unistroy" src="images/unistroy.png">

    <div class="b-copyriht">&copy; 2017. Царёво Village</div>

</div>

<script>
   'use strict';
   var data = [
      {id: 1, number: "2,18", floor: 1, room: 1, area: "22.5", cost: "2000.5", flat: "flat2.png"},
      {id: 2, number: "2,12", floor: 2, room: 1, area: "21.5", cost: "3000.5", flat: "flat3.png"},
      {id: 3, number: "2,18", floor: 1, room: 1, area: "21.5", cost: "3500.5", flat: "flat2.png"},
      {id: 4, number: "2,15", floor: 2, room: 1, area: "22", cost: "1900.5", flat: "flat3.png"},
      {id: 5, number: "2,18", floor: 2, room: 1, area: "21", cost: "2000", flat: "flat2.png"},
      {id: 6, number: "2,18", floor: 1, room: 1, area: "22.5", cost: "2000.5", flat: "flat3.png"},
      {id: 7, number: "2,18", floor: 1, room: 2, area: "50.5", cost: "2000.5", flat: "flat1.png"},
      {id: 8, number: "2,12", floor: 2, room: 2, area: "51.5", cost: "3000.5", flat: "flat1.png"},
      {id: 9, number: "2,18", floor: 3, room: 2, area: "51.5", cost: "3500.5", flat: "flat1.png"},
      {id: 10, number: "2,15", floor: 1, room: 2, area: "52", cost: "1900.5", flat: "flat1.png"},
      {id: 11, number: "2,18", floor: 2, room: 2, area: "51", cost: "2000", flat: "flat1.png"},
      {id: 12, number: "2,18", floor: 1, room: 2, area: "52.5", cost: "2000.5", flat: "flat1.png"},
      {id: 13, number: "2,18", floor: 2, room: 3, area: "100", cost: "7300.5", flat: "flat4.png"},
      {id: 14, number: "2,18", floor: 3, room: 3, area: "94", cost: "6700.5", flat: "flat4.png"},
      {id: 15, number: "2,12", floor: 3, room: 3, area: "101", cost: "7000.5", flat: "flat4.png"},
      {id: 16, number: "2,18", floor: 3, room: 3, area: "89", cost: "6500.5", flat: "flat4.png"},
      {id: 17, number: "2,15", floor: 1, room: 3, area: "102", cost: "6900.5", flat: "flat4.png"},
      {id: 18, number: "2,18", floor: 1, room: 3, area: "110", cost: "7000", flat: "flat4.png"},
      {id: 19, number: "2,18", floor: 2, room: 3, area: "90", cost: "6000.5", flat: "flat4.png"},
      {id: 20, number: "2,18", floor: 1, room: 1, area: "22.5", cost: "2000.5", flat: "flat2.png"},
      {id: 21, number: "2,18", floor: 1, room: 2, area: "62.5", cost: "2000.5", flat: "flat1.png"},
      {id: 22, number: "2,12", floor: 2, room: 2, area: "61.5", cost: "3000.5", flat: "flat1.png"},
      {id: 23, number: "2,18", floor: 3, room: 2, area: "70.5", cost: "3500.5", flat: "flat1.png"},
      {id: 24, number: "2,15", floor: 1, room: 2, area: "62", cost: "1900.5", flat: "flat1.png"},
      {id: 25, number: "2,18", floor: 2, room: 2, area: "61", cost: "2000", flat: "flat1.png"},
      {id: 26, number: "2,18", floor: 1, room: 2, area: "72.5", cost: "2000.5", flat: "flat1.png"},
      {id: 27, number: "2,18", floor: 1, room: 3, area: "100", cost: "7300.5", flat: "flat4.png"},
      {id: 28, number: "2,18", floor: 3, room: 3, area: "94", cost: "6700.5", flat: "flat4.png"},
      {id: 29, number: "2,12", floor: 2, room: 3, area: "101", cost: "7000.5", flat: "flat4.png"},
      {id: 30, number: "2,18", floor: 3, room: 3, area: "89", cost: "6500.5", flat: "flat4.png"},
      {id: 31, number: "2,15", floor: 3, room: 3, area: "102", cost: "6900.5", flat: "flat4.png"},
      {id: 32, number: "2,18", floor: 1, room: 3, area: "110", cost: "7000", flat: "flat4.png"},
      {id: 33, number: "2,18", floor: 2, room: 3, area: "90", cost: "6000.5", flat: "flat4.png"}
   ];
   var room = [true, true, false];

   function showRoom (val, event) {
      if (!event.target.src) return;
      var checkOn = event.target.src.indexOf ("checkOn") > 0;
      room[val - 1] = !checkOn;
      event.target.src = checkOn ? "images/checkOff.png" : "images/checkOn.png";
      show ()
   }

   function show () {
      var text = '';
      var counter = 1;

      for (var i = 0; i < data.length; i++) {
         var el = data[i];
         if (counter > 6) continue; // выдаем ограниченное число картинок
         if (!room[el.room - 1]) continue;
         counter++;
         text += '<div class="b-img-center"><img src="images/flat/' + el.flat + '"/>';
         text += '<span onclick="onFlat(' + el.id + ')"> ' + el.room + '-комнатная квартира, ' + el.area + ' м<sup>2</sup><br>от ' + el.cost + ' руб.</span></div>'
      }
      document.getElementById ('plans').innerHTML = text;
   }

   function onFlat (val) {
      console.log (" val = ", val);
   }

</script>
</body>
</html>